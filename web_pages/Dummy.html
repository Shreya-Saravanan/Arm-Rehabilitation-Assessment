<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  
  <title>{{webpage_title}}</title>
  
  <link rel="stylesheet" href="{{ url_for('static', filename='css/Exercises_Assessment.css') }}">

  <link rel="stylesheet" href="{{ url_for('static', filename='css/Upload.css') }}">

  <link rel="stylesheet" href="/static/css/bootstrap.min.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

  <link rel="stylesheet" href="{{ url_for('static', filename='css/Navbar-Centered-Brand.css') }}">

  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.min.css') }}">

  <link rel="shortcut icon" href="{{ url_for('static', filename='images/icons8-doctors-bag-16.png') }}">
</head>

<body>
  <!-- Start: Navbar Right Links (Dark) -->
  <nav class="navbar navbar-dark navbar-expand-md bg-dark py-3">
    <div class="container"><a class="navbar-brand d-flex align-items-center" href="#"><span
          class="fs-4 text-primary">Arm Rehabilitation Exercise Assessment</span></a><button data-bs-toggle="collapse"
        class="navbar-toggler" data-bs-target="#navcol-5"><span class="visually-hidden">Toggle navigation</span><span
          class="navbar-toggler-icon"></span></button>
      <div class="collapse navbar-collapse fs-4" id="navcol-5">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link active" href="/">Home</a></li>
          <li class="nav-item dropdown visible"><a class="dropdown-toggle nav-link" aria-expanded="false"
              data-bs-toggle="dropdown" href="/display/Exercises.html">Exercises</a>
            <div class="dropdown-menu dropdown-menu-dark border rounded">
              <a href="/Exercise/Arm_Placed_in_the_Front.html"><br>Arm Placed in the Front<br></a>
              <a href="/Exercise/Arm_Placed_on_its_Side.html"><br>Arm Placed on its Side<br></a>
              <a href="/Exercise/Extending_the_Elbow_1.html"><br>Extending the Elbow - 1<br></a>
              <a href="/Exercise/Extending_the_Elbow_2.html"><br>Extending the Elbow - 2<br></a>
              <a href="/Exercise/Turning_the_Forearm.html"><br>Turning the Forearm<br></a>
              <a href="/Exercise/Extending_the_Wrist.html"><br>Extending the Wrist<br></a>
              <a href="/Exercise/Extending_the_Fingers.html"><br>Extending the Fingers<br></a>
              <a href="/Exercise/Extending_the_Thumb.html"><br>Extending the Thumb<br></a>
            </div>
          </li>
          <li class="nav-item"><a class="nav-link" href="/display/About.html">About</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- End: Navbar Right Links (Dark) -->

  <!-- Instructions Section -->
  <div>
    <ul class="nav nav-tabs nav-fill" role="tablist">
      <li class="nav-item" role="presentation"><a class="nav-link active" role="tab" data-bs-toggle="tab"
          href="#tab-1">Exercise Instructions</a></li>
      <li class="nav-item" role="presentation"><a class="nav-link" role="tab" data-bs-toggle="tab" href="#tab-2">Upload
          Instructions</a></li>
    </ul>
    <div class="tab-content">
      <div id="tab-1" class="tab-pane active" role="tabpanel" style="background-color:rgba(147, 186, 30, 0.757);">
        <p><br />{{ Instructions|markdown }}<br /></p>
      </div>
      <div id="tab-2" class="tab-pane" role="tabpanel" style="background-color:rgba(16, 186, 212, 0.454);">
        <p><br />{{ Upload_Instruction|markdown }}<br /></p>
      </div>
    </div>
  </div>

  <!-- Sending a mail containing assessment results -->
  <h3 style="text-align:center;">Enter Details to Receive a copy of your Assessment Results for the Exercise: {{webpage_title}} </h3>

  <!-- Upload Video Section -->

  <div style="text-align:justify;">
    <form method="POST" action='/Exercise/{{ Exercise["Exercise_Webpage"] }}' enctype="multipart/form-data">
      <dl>
        <p>
          <hr>
  
          <input type="text" value="{{ Exercise.Exercise_Models }}" name="Model" autocomplete="off" required
            style="display:none;">
          <input type="text" style="display:none;" value="{{ Exercise.Exercise_Webpage }}" name="Webpage">
          <input type="text" style="display:none;" value="{{ Exercise.Exercise_Title }}" name="Exercise_Name">
          <label for="Name">Name</label>
          <input type="text" id="Name" name="Recipient_Name" placeholder="Your Name...">
  
          <label for="email_id">Email ID</label>
          <input type="text" id="Email_ID" name="Recipient_Email" placeholder="Email ID">
          <hr>
          <input type="file" name="file" autocomplete="off" required>
        </p>
      </dl>
      <p>
        <input type="submit" value="Submit" style="text-align: center;">
      </p>
    </form>
  </div>

  <!-- Live Recording Section -->
  <hr>
  <div>
    <dl>
      <p>
        <!-- <input type="file" name="file" autocomplete="off" required> -->
        <!-- 1. Include action buttons play/stop -->
      <div class="live_recording" style="text-align: center;">
        <button id="btn-start-recording" class="button-start" onclick="startTimer(event);">Start
          Recording</button>
        <button id="btn-stop-recording" class="button-stop" disabled="disabled">Stop Recording</button>
        <button id="btn-download" class="button-download" disabled="disabled"
          onclick="downloadBlob(upload_blob, upload_filename)">Download</button>
        <button id="btn-restart" class="button-restart" onclick="location.reload(true)">Restart</button>
      </div>


      <h2 style="text-align:center;">
        <div id="start-counter"></div>
      </h2>
      <!--
      2. Include a video element that will display the current video stream and as well to show the recorded video at the end.
          -->
      <hr>
      <video style="display: block; margin-left: auto; margin-right: auto;" id="my-preview" controls autoplay></video>
      </p>
    </dl>
  </div>

  <!-- Flash Messages -->
  <p>
    <hr>
    {% with messages = get_flashed_messages(with_categories = true) %}
    {% if messages %}
  <ul>
    {% for category, message in messages %}
    <div class="{{ category }}">
      <h3>{{ message }}</h3>
    </div>
    {% endfor %}
  </ul>
  {% endif %}
  {% endwith %}

  </p>


  <!-- Upload Recording -->
  <script src="/static/js/Upload_Recorder.js"></script>
  <!-- Live Recording -->
  <script src="/static/js/Live_Recorder.js"></script>

  <script src="/static/js/bootstrap.min.js"></script>

  <script src="/static/js/bs-init.js"></script>

  <!-- Include the RecordRTC library and the latest adapter -->
  <script src="https://cdn.webrtc-experiment.com/RecordRTC.js"></script>

  <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.26.1/axios.min.js"
    integrity="sha512-bPh3uwgU5qEMipS/VOmRqynnMXGGSRv+72H/N260MQeXZIK4PG48401Bsby9Nq5P5fz7hy5UGNmC/W1Z51h2GQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>

</html>
